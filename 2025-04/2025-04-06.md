### Dockerとはなにか
 - 一言でいうと、「データやプログラムを隔離できる仕組み」<br>
 - なぜ隔離すべきなのか。環境構築とかそういう時にエラーを吐く原因が、だいたい共有部分に関わる部分だかららしい！
 - 「パソコン新しくした？Windows11？ムービーメーカー使えない？ふむふむ。でもWindows11じゃないとセキュリティ不安だったり、新しいソフトをダウンロードできない？ふーん。それならこれを使うといい（スッ）」みたいなのがDocker
 - イナバの物置の上に人を100人乗せるには、まずそもそも地球がないとだめだよね。ってことを伝えられている。この地球にあたるのがLinux OS。

### いいね機能の作成
#### 1 モデル作成
docker compose exec web rails g model Like user:references post:references

2 
docker compose exec web rails db:migrate

3　下記で db:migrateできているか確認
docker compose exec web rails db:migrate:status
#### 2 i18n編集
viewsのJa.ymlに下記を記載
  likes:
    create:
      success: いいね!しました
    destroy:
      success: いいね!を外しました
#### 3 ルーティング
```
  resources :posts do
    resource :like, only: [:create, :destroy]
  end
```
#### 4 モデル編集

1　User
```
class User < ApplicationRecord
  validates :username, presence: true, length: { maximum: 10 }
  devise :database_authenticatable, :registerable,
         :recoverable, :rememberable, :validatable

  has_many :posts, dependent: :destroy
  has_many :likes, dependent: :destroy
  has_many :liked_posts, through: :likes, source: :post

  def like(post)
    liked_posts << post unless like?(post)
  end
  
  def unlike(post)
    liked_posts.delete(post)
  end
  
  def like?(post)
    liked_posts.include?(post)
  end
end
```

2　Post
```
class Post < ApplicationRecord
    belongs_to :user
    has_one :daily_question, dependent: :destroy
    has_one_attached :image
    has_many :likes, dependent: :destroy
    has_many :liked_users, through: :likes, source: :user

    accepts_nested_attributes_for :daily_question
    
    validates :title, presence: true, length: { maximum: 20 }
    validates :body, presence: true, length: { maximum: 400 }
    validates :learning_date, presence: true

    def liked_by?(user)
      likes.exists?(user_id: user.id)
    end

    private

    def image_type_validation
      if image.attached? && !image.content_type.in?(%w[image/jpeg image/png image])
        errors.add(:image, "はJPEG、PNGでアップロードしてください")
      end
    end

    def image_size
      if image.attached? && image.blob.byte_size > 1.megabytes
        errors.add(:image, "：1MB以下のファイルをアップロードしてください")
      end
    end
end
```

3 like
```
class Like < ApplicationRecord
  belongs_to :user
  belongs_to :post

  validates :user_id, uniqueness: { scope: :post_id }
end
```



